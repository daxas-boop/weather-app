(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{37:function(e,n,t){e.exports=t.p+"static/media/error_icon.3038ccf0.png"},48:function(e,n,t){e.exports=t(60)},54:function(e,n,t){},60:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(15),i=t.n(c),o=t(19),u=t(5),l=t(7),s=t(85),p=t(80),m=t(12),d=t.n(m),f=t(18),h={loading:!1,data:null,error:null},g=function(e,n){var t=n.type,a=n.payload;switch(t){case"LOAD":return{loading:!0,data:null,error:null};case"SUCCESS":return{loading:!1,data:a,error:null};case"ERROR":return{loading:!1,data:null,error:a};default:return e}},x=(t(54),function(){return r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),b=t(81),E=t(78);function v(){var e=Object(u.a)(["\n    text-align:center;\n"]);return v=function(){return e},e}function w(){var e=Object(u.a)(["\n    display:flex;\n    justify-content:center;\n    margin-bottom:10px;\n"]);return w=function(){return e},e}function y(){var e=Object(u.a)(["\n    width:50px;\n"]);return y=function(){return e},e}function j(){var e=Object(u.a)(["\n    display: inline-block;\n    width:100%;\n    margin:2px 0;\n"]);return j=function(){return e},e}function O(){var e=Object(u.a)(["\n    display:flex;\n    justify-content:center;\n"]);return O=function(){return e},e}function k(){var e=Object(u.a)(["\n    width:200px;\n    text-align:center;\n    background-color: #0093E9;\n    background-image: linear-gradient(160deg, #0093E9 0%, #80D0C7 100%);\n    padding:10px;\n"]);return k=function(){return e},e}function C(){var e=Object(u.a)(["\n    max-width:100%;\n    margin-top:20px;\n"]);return C=function(){return e},e}var S=Object(E.a)((function(e){return{container:{margin:0,marginTop:20}}})),F=Object(l.a)(p.a)(C()),R=Object(l.a)(b.a)(k()),D=l.a.span(O()),W=l.a.span(j()),M=l.a.img(y()),U=l.a.span(w()),P=l.a.div(v()),A=function(e){var n=S(),t=e.forecast;function a(e){var n=new Date(1e3*e);return n.getHours()+":"+(n.getMinutes()<10?"0":"")+n.getMinutes()}var c=e.imperialUnit?"F\xb0":"C\xb0";return r.a.createElement(F,{className:n.container,container:!0,direction:"row",justify:"center",alignItems:"center",spacing:4,m:2},t.daily.map((function(e){return r.a.createElement(p.a,{key:e.dt,item:!0},r.a.createElement(R,{elevation:3},r.a.createElement(D,null,function(e){var n=new Date(1e3*e),t=+(n.getMonth()+1)+"/"+n.getDate();switch(n.getDay()){case 0:return"Sunday "+t;case 1:return"Monday "+t;case 2:return"Tuesday "+t;case 3:return"Wednesday "+t;case 4:return"Thursday "+t;case 5:return"Friday "+t;case 6:return"Saturday "+t}}(e.dt)),r.a.createElement(M,{src:(t=e.weather[0].icon,"https://openweathermap.org/img/wn/".concat(t,"@2x.png")),alt:e.weather[0].main}),r.a.createElement(U,null,(n=e.weather[0].description).charAt(0).toUpperCase()+n.slice(1)),r.a.createElement(P,null,r.a.createElement(W,null,"Max: ",e.temp.max," ",c),r.a.createElement(W,null,"Min: ",e.temp.min," ",c),r.a.createElement(W,null,"Humidity: ",e.humidity,"%"),r.a.createElement(W,null,"Pressure: ",e.pressure),r.a.createElement(W,null,"Sunrise: ",a(e.sunrise)),r.a.createElement(W,null,"Sunset: ",a(e.sunset)))));var n,t})))};function N(){var e=Object(u.a)(["\n    margin-top:0;\n"]);return N=function(){return e},e}function _(){var e=Object(u.a)(["\n    margin: 0 auto;\n    text-align:center;\n    max-width:600px;\n    min-width:350px;\n    background-color: #0093E9;\n    background-image: linear-gradient(160deg, #0093E9 0%, #80D0C7 100%);\n    @media (max-width:768px){\n        min-width:320px;\n    }\n"]);return _=function(){return e},e}var B=Object(l.a)(b.a)(_()),H=l.a.h4(N()),I=function(e){var n=e.currentWeather,t=e.imperialUnit,a=e.location,c=n.name,i=n.sys.country,o=n.main.temp,u=n.main.feels_like,l=n.main.pressure,s=n.main.humidity,p=n.main.temp_min,m=n.main.temp_max;var d,f="https://openweathermap.org/img/wn/".concat(n.weather[0].icon,"@2x.png"),h=t?"F\xb0":"C\xb0";return r.a.createElement(B,{elevation:3},r.a.createElement("img",{src:f,alt:""}),r.a.createElement(H,null,(d=n.weather[0].description).charAt(0).toUpperCase()+d.slice(1)),r.a.createElement("h2",null,a?"".concat(a.standard.city,", ").concat(a.standard.prov):"".concat(c,", ").concat(i)),r.a.createElement("h3",null,o," ",h),r.a.createElement("h4",null,"Real Feel: ",u," ",h),r.a.createElement("h4",null,"Pressure: ",l," hPa"),r.a.createElement("h4",null,"Humidity: ",s,"%"),r.a.createElement("h4",null,"Min: ",p," ",h),r.a.createElement("h4",null,"Max: ",m," ",h))};function L(e){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(d.a.mark((function e(n){var t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"12038227860412e15757698x95258",n=n.replace(/ +(?= )/g,"").trim(),e.prev=2,e.next=5,fetch("https://geocode.xyz/".concat(n,"?json=1&auth=").concat("12038227860412e15757698x95258"));case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,t=r,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),new Error(e.t0);case 15:if(!t.error){e.next=17;break}throw new Error(t.error.description);case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function z(e,n,t){return J.apply(this,arguments)}function J(){return(J=Object(f.a)(d.a.mark((function e(n,t,a){var r,c,i,o,u,l,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="30d2d7664fe7b2ac7e54fdca4bc7f915",c=a?"imperial":"metric",i=fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(t,"&units=").concat(c,"&appid=").concat(r)).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})),o=fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(n,"&lon=").concat(t,"&units=").concat(c,"&exclude=current,minutely,hourly&appid=").concat(r)).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})),e.prev=4,e.next=7,Promise.all([i,o]);case 7:s=e.sent,u=s[0],l=s[1],e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(4),new Error(e.t0);case 15:return l.daily.shift(0),e.abrupt("return",{currentWeather:u,forecast:l});case 17:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}var q=function(){var e=Object(f.a)(d.a.mark((function e(n,t){var a,r,c,i,o,u,l,s,p,m,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(n)){e.next=11;break}return a=n[0],r=n[1],e.next=5,z(a,r,t);case 5:return c=e.sent,i=c.currentWeather,o=c.forecast,e.abrupt("return",{currentWeather:i,forecast:o});case 11:if("string"!==typeof n){e.next=23;break}return e.next=14,L(n);case 14:return u=e.sent,l=u.latt,s=u.longt,e.next=19,z(l,s,t);case 19:return p=e.sent,m=p.currentWeather,f=p.forecast,e.abrupt("return",{currentWeather:m,forecast:f,geolocation:u});case 23:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),G=t(39),K=t.n(G),Q=t(83),V=t(25),X=t(84),Y=t(82),Z=t(38),$=t.n(Z),ee=t(37),ne=t.n(ee);function te(){var e=Object(u.a)(["\n    font-family:'Roboto';\n    font-size:20px;\n    margin:0 auto;\n    margin-bottom:5px;\n    color:black;\n"]);return te=function(){return e},e}function ae(){var e=Object(u.a)(["\n    width:300px;\n    margin:0 auto;\n"]);return ae=function(){return e},e}var re=l.a.img(ae()),ce=l.a.span(te()),ie=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null,"Something went wrong"),r.a.createElement(re,{src:ne.a,alt:"Error icon"}))};function oe(){var e=Object(u.a)(["\n    display:flex;\n    flex-direction: column;\n    font-family:'Roboto';\n    position:relative;\n    min-height:100vh;\n    background: url(https://static.radulescu.me/examples/clouds/clouds1000.png);\n    background: url(https://static.radulescu.me/examples/clouds/clouds1000.png) 0 200px,\n                url(https://static.radulescu.me/examples/clouds/clouds1200_1.png) 0 300px,\n                url(https://static.radulescu.me/examples/clouds/clouds1000_blur3.png) 100px 250px;\n    animation: "," 120s linear infinite;\n"]);return oe=function(){return e},e}function ue(){var e=Object(u.a)(["\n    display:flex;\n    align-items:center;\n    position:absolute;\n    top:10px;\n    left:10px;\n"]);return ue=function(){return e},e}function le(){var e=Object(u.a)(["\n    margin:50px auto;\n    margin-top:75px;\n    padding: 2px 4px;\n    display: flex;\n    align-items: center;\n    width: 400px;\n    @media (max-width:768px) {\n        margin-top:75px;\n        width:310px;\n    }\n"]);return le=function(){return e},e}function se(){var e=Object(u.a)(["\n    margin:0 auto;\n    min-height:100vh;\n    display:flex;\n    flex-direction: column;\n    font-family:'Roboto';\n    position:relative;\n    background-color: #8EC5FC;\n    background-image: linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%);\n"]);return se=function(){return e},e}function pe(){var e=Object(u.a)(["\n    0% {\n    background-position: 0 200px, 0 300px, 100px 250px;\n    }\n    100% {\n        background-position: 1000px 200px, 1200px 300px, 1100px 250px;\n    }\n"]);return pe=function(){return e},e}var me=Object(E.a)((function(e){return{locationBtn:{position:"absolute",right:10,top:10},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}})),de=Object(V.b)(pe()),fe=l.a.section(se()),he=Object(l.a)(b.a)(le()),ge=l.a.label(ue()),xe=l.a.div(oe(),de),be=function(){var e=Object(a.useState)(""),n=Object(o.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(""),u=Object(o.a)(i,2),l=u[0],m=u[1],b=Object(a.useState)(!0),E=Object(o.a)(b,2),v=E[0],w=E[1],y=function(e,n,t){var r=Object(a.useReducer)(g,h),c=Object(o.a)(r,2),i=c[0],u=c[1];return Object(a.useEffect)((function(){(function(){var a=Object(f.a)(d.a.mark((function a(){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n){a.next=12;break}return u({type:"LOAD"}),a.prev=2,a.next=5,e(n,t);case 5:r=a.sent,u({type:"SUCCESS",payload:r}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),u({type:"ERROR",payload:a.t0});case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(){return a.apply(this,arguments)}})()()}),[e,n,t]),i}(q,l,v),j=y.data,O=y.loading,k=y.error,C=me();function S(e){m([e.coords.latitude,e.coords.longitude])}function F(e){console.log(e)}return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition(S,F)}),[]),r.a.createElement(fe,null,r.a.createElement(xe,null,r.a.createElement(he,{component:"form",className:C.root,onSubmit:function(e){e.preventDefault()}},r.a.createElement(X.a,{className:C.input,placeholder:"Search city",inputProps:{"aria-label":"Search city"},onChange:function(e){c(e.target.value)},value:t}),r.a.createElement(Y.a,{type:"submit",className:C.iconButton,"aria-label":"search",onClick:function(){m(t)}},r.a.createElement($.a,null))),r.a.createElement(Q.a,{variant:"contained",color:"primary",className:C.locationBtn,endIcon:r.a.createElement(K.a,null),onClick:function(){navigator.geolocation.getCurrentPosition(S,F)}},"Find me"),r.a.createElement(ge,null,r.a.createElement(p.a,{item:!0},"F\xb0"),r.a.createElement(p.a,{item:!0},r.a.createElement(s.a,{onChange:function(){w(!v)},value:v,color:"default"})),r.a.createElement(p.a,{item:!0},"C\xb0")),O&&r.a.createElement(x,null),k&&r.a.createElement(ie,null),j&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{currentWeather:j.currentWeather,location:j.geolocation,imperialUnit:v}),r.a.createElement(A,{forecast:j.forecast,imperialUnit:v}))))};var Ee=function(){return r.a.createElement("div",null,r.a.createElement(be,null))};i.a.render(r.a.createElement(Ee,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.3ae9283c.chunk.js.map